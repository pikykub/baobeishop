<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M&A SHOP - PREMIUM</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <style>
        :root { --main: #ff2d55; --bg: #0a0a20; --card: rgba(15, 15, 35, 0.8); --tmw: #ff8c00; --text: #ffffff; }
        * { box-sizing: border-box; }
        body { 
            font-family: 'Kanit', sans-serif; 
            margin: 0; 
            background: #050510 url('https://w0.peakpx.com/wallpaper/419/840/HD-wallpaper-dark-blue-galaxy-star-night-sky-background.jpg');
            background-size: cover; background-attachment: fixed;
            color: var(--text); overflow-x: hidden;
        }

        /* Auth Pages (Login/Register) */
        .auth-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; z-index: 9999; backdrop-filter: blur(10px); }
        .auth-card { background: white; padding: 40px; border-radius: 30px; width: 90%; max-width: 400px; text-align: center; color: #333; }
        .auth-title { color: var(--main); font-size: 24px; font-weight: bold; margin-bottom: 25px; }
        .auth-input { width: 100%; padding: 15px; margin: 10px 0; border: 1px solid #eee; border-radius: 15px; background: #f9f9f9; font-family: 'Kanit'; }
        .btn-auth { width: 100%; padding: 15px; border: none; border-radius: 15px; background: var(--main); color: white; font-weight: bold; cursor: pointer; font-size: 16px; }

        /* Dashboard & Layout */
        .container { max-width: 1000px; margin: 20px auto; padding: 0 15px; }
        .navbar { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; }
        .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 25px; }
        .stat-box { background: var(--card); padding: 20px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.1); }
        .stat-label { font-size: 14px; opacity: 0.8; }
        .stat-value { font-size: 24px; font-weight: bold; margin-top: 5px; }

        /* Topup UI */
        .topup-card { background: var(--card); padding: 30px; border-radius: 25px; border: 1px solid rgba(255,255,255,0.1); text-align: center; }
        .topup-tabs { display: flex; gap: 10px; margin-bottom: 20px; }
        .tab-btn { flex: 1; padding: 12px; border: none; border-radius: 12px; cursor: pointer; background: rgba(255,255,255,0.1); color: white; font-family: 'Kanit'; }
        .tab-btn.active { background: var(--main); }
        .qr-area { background: white; padding: 20px; border-radius: 20px; color: #333; margin: 20px 0; }
        
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div id="loginPage" class="auth-container">
        <div class="auth-card">
            <div class="auth-title">BAOBEI LOGIN</div>
            <input type="text" id="l_user" class="auth-input" placeholder="ชื่อผู้ใช้">
            <input type="password" id="l_pass" class="auth-input" placeholder="รหัสผ่าน">
            <button class="btn-auth" onclick="doLogin()">เข้าสู่ระบบ</button>
            <p style="font-size: 14px;">ยังไม่มีบัญชี? <span style="color:var(--main); cursor:pointer;" onclick="showAuth('reg')">สมัครสมาชิก</span></p>
        </div>
    </div>

    <div id="regPage" class="auth-container hidden">
        <div class="auth-card">
            <div class="auth-title">CREATE ACCOUNT</div>
            <input type="text" id="r_user" class="auth-input" placeholder="ตั้งชื่อผู้ใช้">
            <input type="password" id="r_pass" class="auth-input" placeholder="ตั้งรหัสผ่าน">
            <button class="btn-auth" onclick="doRegister()">สมัครสมาชิก</button>
            <p style="font-size: 14px;">มีบัญชีอยู่แล้ว? <span style="color:var(--main); cursor:pointer;" onclick="showAuth('login')">เข้าสู่ระบบ</span></p>
        </div>
    </div>

    <div id="mainContent" class="container hidden">
        <div class="navbar">
            <div style="font-size: 24px; font-weight: bold;">M&A SHOP</div>
            <div onclick="showPage('topup')" style="background: var(--main); padding: 8px 20px; border-radius: 50px; cursor: pointer;">
                <i class="fas fa-wallet"></i> <span id="balText">0.00</span> ฿
            </div>
        </div>

        <div id="homePage">
            <div class="stats-grid">
                <div class="stat-box"><div class="stat-label">ผู้ใช้งาน</div><div class="stat-value">218 <small>คน</small></div></div>
                <div class="stat-box"><div class="stat-label">ยอดเติม</div><div class="stat-value">15,155.71 <small>บาท</small></div></div>
                <div class="stat-box"><div class="stat-label">สต็อก</div><div class="stat-value">26 <small>ชิ้น</small></div></div>
                <div class="stat-box"><div class="stat-label">ยอดขาย</div><div class="stat-value">1,089 <small>ครั้ง</small></div></div>
            </div>
            <p><i class="fas fa-shopping-basket"></i> สินค้าแนะนำสำหรับคุณ</p>
            <div id="prodList" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;"></div>
        </div>

        <div id="topupPage" class="hidden">
            <div class="topup-card">
                <h3>เติมเงินเข้าระบบ</h3>
                <div class="topup-tabs">
                    <button id="t1" class="tab-btn active" onclick="setTab(1)">ซอง TrueMoney</button>
                    <button id="t2" class="tab-btn" onclick="setTab(2)">โอน/สแกนสลิป</button>
                </div>

                <div id="area1">
                    <input type="text" id="giftLink" class="auth-input" style="background: rgba(255,255,255,0.05); color: white; border: 1px solid rgba(255,255,255,0.2);" placeholder="วางลิ้งค์ซองของขวัญที่นี่">
                    <button class="btn-auth" style="background: var(--tmw);" onclick="checkGift()">เติมเงินด้วยซองของขวัญ (Auto)</button>
                </div>

                <div id="area2" class="hidden">
                    <div class="qr-area">
                        <b style="color: #5d2e8e;">ธนาคารเกียรตินาคินภัทร</b><br>
                        <span style="font-size: 20px;">201-201-9014</span><br>
                        <small>ชื่อบัญชี: จิตราภรณ์ จันทร</small>
                    </div>
                    <p style="font-size: 13px;">หรือโอนเบอร์วอลเล็ท: <b>080-920-0932</b></p>
                    <input type="file" id="slip" class="hidden" onchange="Swal.fire('สำเร็จ','ระบบกำลังตรวจสอบสลิปของคุณ','success')">
                    <button class="btn-auth" onclick="document.getElementById('slip').click()">อัปโหลดสลิปตรวจสอบออโต้</button>
                </div>

                <p style="margin-top: 20px; cursor: pointer; opacity: 0.6;" onclick="showPage('home')">ย้อนกลับ</p>
            </div>
        </div>
    </div>

    <script>
        let db = JSON.parse(localStorage.getItem('shop_db')) || { users: {}, current: null };

        function showAuth(t) {
            document.getElementById('loginPage').classList.toggle('hidden', t !== 'login');
            document.getElementById('regPage').classList.toggle('hidden', t !== 'reg');
        }

        function doRegister() {
            let u = document.getElementById('r_user').value;
            let p = document.getElementById('r_pass').value;
            if(!u || !p) return Swal.fire('เตือน','กรุณากรอกให้ครบ','warning');
            db.users[u] = { pass: p, bal: 0 };
            localStorage.setItem('shop_db', JSON.stringify(db));
            Swal.fire('สำเร็จ','สมัครเรียบร้อย ล็อกอินได้เลย','success').then(() => showAuth('login'));
        }

        function doLogin() {
            let u = document.getElementById('l_user').value;
            let p = document.getElementById('l_pass').value;
            if(db.users[u] && db.users[u].pass === p) {
                db.current = u;
                document.getElementById('loginPage').classList.add('hidden');
                document.getElementById('mainContent').classList.remove('hidden');
                updateUI();
            } else {
                Swal.fire('ผิดพลาด','ชื่อหรือรหัสผ่านไม่ถูกต้อง','error');
            }
        }

        function updateUI() {
            document.getElementById('balText').innerText = db.users[db.current].bal.toFixed(2);
            document.getElementById('prodList').innerHTML = [
                {n: 'ไอดีไก่เลเวล 30', p: 15, img: 'https://img5.pic.in.th/file/secure-sv1/item1.png'},
                {n: 'Gmail ประกัน 3 วัน', p: 10, img: 'https://img5.pic.in.th/file/secure-sv1/item2.png'}
            ].map(x => `
                <div class="stat-box" style="text-align:center;">
                    <img src="${x.img}" style="width:100%; border-radius:10px;">
                    <div style="margin:10px 0;">${x.n}</div>
                    <button class="btn-auth" style="padding:5px; font-size:12px;">ซื้อ ${x.p} ฿</button>
                </div>
            `).join('');
        }

        function showPage(p) {
            document.getElementById('homePage').classList.toggle('hidden', p !== 'home');
            document.getElementById('topupPage').classList.toggle('hidden', p !== 'topup');
        }

        function setTab(n) {
            document.getElementById('area1').classList.toggle('hidden', n !== 1);
            document.getElementById('area2').classList.toggle('hidden', n !== 2);
            document.getElementById('t1').classList.toggle('active', n === 1);
            document.getElementById('t2').classList.toggle('active', n === 2);
        }

        function checkGift() {
            let link = document.getElementById('giftLink').value;
            if(!link.includes('gift.truemoney.com')) return Swal.fire('รูปแบบผิด','ลิ้งค์ซองไม่ถูกต้อง','error');
            Swal.fire({title: 'กำลังตรวจสอบซอง', didOpen: () => Swal.showLoading()});
            setTimeout(() => {
                db.users[db.current].bal += 50; // ตัวอย่างบวกเงิน
                localStorage.setItem('shop_db', JSON.stringify(db));
                updateUI();
                Swal.fire('สำเร็จ','เติมเงิน 50 บาทเรียบร้อย','success');
            }, 2000);
        }
    </script>
</body>
</html>
